<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Seeker Dashboard - Job Tracker</title>
    <link rel="stylesheet" href="dashboard-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Top Navbar -->
    <nav class="top-navbar">
        <div class="nav-left">
            <div class="logo">
                <i class="fas fa-briefcase"></i>
                <span>Job Tracker</span>
            </div>
        </div>
        <div class="nav-right">
            <div class="user-menu">
                <button class="user-btn" onclick="toggleUserDropdown()">
                    <div class="user-avatar" id="userInitial">JS</div>
                    <span id="userName">Loading...</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="dropdown-menu" id="userDropdown">
                    <a href="#" onclick="showSection('profile')">
                        <i class="fas fa-user"></i> Profile
                    </a>
                    <a href="#" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <div class="user-avatar large" id="sidebarUserInitial">JS</div>
            <h3 id="sidebarUserName">Job Seeker</h3>
            <p id="userEmail">email@example.com</p>
        </div>
        <nav class="sidebar-nav">
            <a href="#" class="nav-item active" data-section="profile" onclick="showSection('profile')">
                <i class="fas fa-user"></i>
                <span>My Profile</span>
            </a>
            <a href="#" class="nav-item" data-section="jobs" onclick="showSection('jobs')">
                <i class="fas fa-briefcase"></i>
                <span>Browse Jobs</span>
            </a>
            <a href="#" class="nav-item" data-section="applications" onclick="showSection('applications')">
                <i class="fas fa-file-alt"></i>
                <span>My Applications</span>
            </a>
            <a href="#" class="nav-item" data-section="companies" onclick="showSection('companies')">
                <i class="fas fa-building"></i>
                <span>Companies</span>
            </a>
            <a href="#" class="nav-item" data-section="contacts" onclick="showSection('contacts')">
                <i class="fas fa-address-book"></i>
                <span>Contacts</span>
            </a>
            <a href="#" class="nav-item" data-section="statistics" onclick="showSection('statistics')">
                <i class="fas fa-chart-bar"></i>
                <span>Statistics</span>
            </a>
        </nav>
        <div class="sidebar-footer">
            <a href="#">
                <i class="fas fa-question-circle"></i> Help
            </a>
            <a href="#" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i> Logout
            </a>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Jobs Section -->
        <section id="jobsSection" class="content-section">
            <div class="section-header">
                <h1><i class="fas fa-briefcase"></i> Browse Jobs</h1>
            </div>
            
            <!-- Updated Filters Bar -->
            <div class="filters-bar-modern">
                <select id="jobTypeFilter" class="filter-select" onchange="filterJobs()">
                    <option value="">All Types</option>
                    <option value="Full-time">Full-time</option>
                    <option value="Part-time">Part-time</option>
                    <option value="Contract">Contract</option>
                    <option value="Internship">Internship</option>
                    <option value="Remote">Remote</option>
                </select>
                
                <input 
                    type="text" 
                    id="searchJobs" 
                    class="search-input-modern" 
                    placeholder="Search jobs by title, company, or location..." 
                    onkeyup="searchJobs()"
                />
            </div>
            
            <div id="jobsList" class="data-grid"></div>
        </section>

        <!-- Applications Section -->
        <section id="applicationsSection" class="content-section">
            <div class="section-header">
                <h1><i class="fas fa-file-alt"></i> My Applications</h1>
            </div>
            <div id="applicationsList" class="data-grid"></div>
        </section>

        <!-- Other sections remain the same -->
        <section id="profileSection" class="content-section active">
            <div class="section-header">
                <h1><i class="fas fa-user"></i> My Profile</h1>
            </div>
            <!-- Profile content here -->
            <div class="profile-card">
                <h3>Personal Information</h3>
                <form id="profileForm" onsubmit="updateProfile(event)">
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Full Name</label>
                            <input type="text" id="profileFullName" required>
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="profileEmail" required>
                        </div>
                        <div class="form-group">
                            <label>Phone</label>
                            <input type="tel" id="profilePhone">
                        </div>
                        <div class="form-group">
                            <label>Location</label>
                            <input type="text" id="profileLocation">
                        </div>
                        <div class="form-group">
                            <label>Sex</label>
                            <select id="profileSex">
                                <option value="">Select</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit" class="btn-primary">Update Profile</button>
                </form>
            </div>
            <!-- Education Section -->
            <div class="profile-card">
                <div class="section-header">
                    <h3><i class="fas fa-graduation-cap"></i> Education</h3>
                    <button class="btn-primary" onclick="showEducationModal()">
                        <i class="fas fa-plus"></i> Add Education
                    </button>
                </div>
                <div id="educationList" class="profile-items-list"></div>
            </div>

            <!-- Skills Section -->
            <div class="profile-card">
                <div class="section-header">
                    <h3><i class="fas fa-code"></i> Skills</h3>
                    <button class="btn-primary" onclick="showSkillsModal()">
                        <i class="fas fa-plus"></i> Add Skill
                    </button>
                </div>
                <div id="skillsList" class="skills-container"></div>
            </div>

            <!-- Certifications Section -->
            <div class="profile-card">
                <div class="section-header">
                    <h3><i class="fas fa-certificate"></i> Certifications & Licenses</h3>
                    <button class="btn-primary" onclick="showCertificationModal()">
                        <i class="fas fa-plus"></i> Add Certification
                    </button>
                </div>
                <div id="certificationsList" class="profile-items-list"></div>
            </div>

            <!-- Languages Section -->
            <div class="profile-card">
                <div class="section-header">
                    <h3><i class="fas fa-language"></i> Languages</h3>
                    <button class="btn-primary" onclick="showLanguageModal()">
                        <i class="fas fa-plus"></i> Add Language
                    </button>
                </div>
                <div id="languagesList" class="skills-container"></div>
            </div>
        </section>

        <!-- Add other sections (Companies, Contacts, Statistics) -->
        <section id="companiesSection" class="content-section">
            <div class="section-header">
                <h1><i class="fas fa-building"></i> Companies</h1>
            </div>
            <div id="companiesList" class="data-grid"></div>
        </section>

        <section id="contactsSection" class="content-section">
            <div class="section-header">
                <h1><i class="fas fa-address-book"></i> Professional Contacts</h1>
            </div>
            <div id="contactsList" class="data-grid"></div>
        </section>

        <section id="statisticsSection" class="content-section">
            <div class="section-header">
                <h1><i class="fas fa-chart-bar"></i> Statistics & Insights</h1>
            </div>
            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-file-alt stat-icon"></i>
                    <div>
                        <h2 id="statTotalApps">0</h2>
                        <p>Total Applications</p>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-calendar-alt stat-icon"></i>
                    <div>
                        <h2 id="statThisMonth">0</h2>
                        <p>This Month</p>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-percentage stat-icon"></i>
                    <div>
                        <h2 id="statSuccessRate">0%</h2>
                        <p>Success Rate</p>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-clock stat-icon"></i>
                    <div>
                        <h2 id="statAvgResponse">-- days</h2>
                        <p>Avg Response Time</p>
                    </div>
                </div>
            </div>
            <div class="profile-card">
                <h3>Application Status Breakdown</h3>
                <div id="statusBreakdown"></div>
            </div>
        </section>
    </main>

    <!-- Modals -->
    <!-- Application Modal -->
    <div id="applicationModal" class="modal">
        <div class="modal-content">
            <form id="applicationForm" onsubmit="saveApplication(event)">
                <div class="form-group">
                    <label>Job</label>
                    <select id="applicationJobId" required></select>
                </div>
                <div class="form-group">
                    <label>Application Date</label>
                    <input type="date" id="applicationDate" required>
                </div>
                <div class="form-group">
                    <label>Status</label>
                    <select id="applicationStatus" required>
                        <option value="Applied">Applied</option>
                        <option value="In Review">In Review</option>
                        <option value="Interview">Interview</option>
                        <option value="Offer">Offer</option>
                        <option value="Rejected">Rejected</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Notes</label>
                    <textarea id="applicationNotes" rows="4"></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" onclick="closeModal('applicationModal')">Cancel</button>
                    <button type="submit" class="btn-primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add other modals (Job, Company, etc.) -->
    <div id="jobModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add Job</h2>
                <button class="close-modal" onclick="closeModal('jobModal')">Ã—</button>
            </div>
            <form id="jobForm" onsubmit="saveJob(event)">
                <div class="form-group">
                    <label>Job Title</label>
                    <input type="text" id="jobTitle" required>
                </div>
                <div class="form-group">
                    <label>Company</label>
                    <select id="jobCompanyId" required></select>
                </div>
                <div class="form-group">
                    <label>Location</label>
                    <input type="text" id="jobLocation">
                </div>
                <div class="form-group">
                    <label>Job Type</label>
                    <select id="jobType">
                        <option value="Full-time">Full-time</option>
                        <option value="Part-time">Part-time</option>
                        <option value="Contract">Contract</option>
                        <option value="Internship">Internship</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Salary Range</label>
                    <input type="text" id="jobSalary" placeholder="e.g., 60k - 80k">
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="jobDescription" rows="4"></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" onclick="closeModal('jobModal')">Cancel</button>
                    <button type="submit" class="btn-primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Education Modal -->
    <div id="educationModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add Education</h2>
                <button class="close-modal" onclick="closeModal('educationModal')">&times;</button>
            </div>
            <form id="educationForm" onsubmit="saveEducation(event)">
                <input type="hidden" id="education-id">
                <div class="form-grid">
                    <div class="form-group">
                        <label>School/University Name *</label>
                        <input type="text" id="school-name" required>
                    </div>
                    <div class="form-group">
                        <label>School Location</label>
                        <input type="text" id="school-location">
                    </div>
                    <div class="form-group">
                        <label>Degree *</label>
                        <input type="text" id="degree" required>
                    </div>
                    <div class="form-group">
                        <label>Field of Study</label>
                        <input type="text" id="field-of-study">
                    </div>
                    <div class="form-group">
                        <label>Start Date *</label>
                        <input type="date" id="edu-start-date" required>
                    </div>
                    <div class="form-group">
                        <label>End Date</label>
                        <input type="date" id="edu-end-date">
                    </div>
                    <div class="form-group">
                        <label>GPA (out of 10)</label>
                        <input type="number" step="0.01" min="0" max="10" id="gpa" placeholder="e.g., 8.5">
                    </div>
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 8px;">
                            <input type="checkbox" id="currently-studying" style="width: auto;">
                            Currently Studying
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label>Honors & Awards</label>
                    <textarea id="honors-awards" rows="3"></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" onclick="closeModal('educationModal')">Cancel</button>
                    <button type="submit" class="btn-primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Skills Modal -->
    <div id="skillsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add Skill</h2>
                <button class="close-modal" onclick="closeModal('skillsModal')">&times;</button>
            </div>
            <form id="skillsForm" onsubmit="saveSkill(event)">
                <div class="form-group">
                    <label>Skill Name *</label>
                    <input type="text" id="skill-name" required>
                </div>
                <div class="form-group">
                    <label>Proficiency Level *</label>
                    <select id="proficiency-level" required>
                        <option value="">Select Level</option>
                        <option value="Beginner">Beginner</option>
                        <option value="Intermediate">Intermediate</option>
                        <option value="Advanced">Advanced</option>
                        <option value="Expert">Expert</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" onclick="closeModal('skillsModal')">Cancel</button>
                    <button type="submit" class="btn-primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Certification Modal (UPDATED - No certificate_number and expiry_date) -->
    <div id="certificationModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add Certification</h2>
                <button class="close-modal" onclick="closeModal('certificationModal')">&times;</button>
            </div>
            <form id="certificationForm" onsubmit="saveCertification(event)">
                <div class="form-grid">
                    <div class="form-group">
                        <label>Certification Name *</label>
                        <input type="text" id="cert-name" required>
                    </div>
                    <div class="form-group">
                        <label>Issuing Authority</label>
                        <input type="text" id="issuing-authority">
                    </div>
                    <div class="form-group">
                        <label>Issue Date</label>
                        <input type="date" id="issue-date">
                    </div>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" onclick="closeModal('certificationModal')">Cancel</button>
                    <button type="submit" class="btn-primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Language Modal -->
    <div id="languageModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add Language</h2>
                <button class="close-modal" onclick="closeModal('languageModal')">&times;</button>
            </div>
            <form id="languageForm" onsubmit="saveLanguage(event)">
                <div class="form-group">
                    <label>Language *</label>
                    <input type="text" id="language-name" required>
                </div>
                <div class="form-group">
                    <label>Proficiency Level *</label>
                    <select id="lang-proficiency" required>
                        <option value="">Select Level</option>
                        <option value="Basic">Basic</option>
                        <option value="Conversational">Conversational</option>
                        <option value="Fluent">Fluent</option>
                        <option value="Native">Native</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" onclick="closeModal('languageModal')">Cancel</button>
                    <button type="submit" class="btn-primary">Save</button>
                </div>
            </form>
        </div>
    </div>


    <script src="dashboard.js"></script>
</body>
</html>
